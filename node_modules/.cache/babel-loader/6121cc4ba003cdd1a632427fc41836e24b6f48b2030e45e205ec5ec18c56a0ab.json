{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,Link,useNavigate}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const EditNapoj=()=>{const{id}=useParams();const[napojData,setNapojData]=useState({nazwa:'',cena:'',typOpakowania:'Butelka 500ml',czyDostepna:false});const navigate=useNavigate();useEffect(()=>{const fetchNapoj=async()=>{try{const response=await axios.get(\"https://pizzeriabackend-pizzeriabackendmk.azuremicroservices.io/api/napoje/\".concat(id));setNapojData(response.data);}catch(error){console.error('Error fetching napoj:',error);}};fetchNapoj();},[id]);const handleInputChange=e=>{const{name,value,type,checked}=e.target;const inputValue=type==='checkbox'?checked:value;setNapojData(prevData=>({...prevData,[name]:inputValue}));};const handleUpdateNapoj=async()=>{try{await axios.put(\"https://pizzeriabackend-pizzeriabackendmk.azuremicroservices.io/api/napoje/\".concat(id),napojData);console.log('Napoj updated successfully');navigate('/menuNapoje');}catch(error){console.error('Error updating napoj:',error);alert('Nie można zaktualizwoać Pizzy');}};return/*#__PURE__*/_jsxs(\"center\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Edytuj Nap\\xF3j\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Nazwa: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"nazwa\",value:napojData.nazwa,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Cena: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"cena\",value:napojData.cena,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Typ Opakowania:\",/*#__PURE__*/_jsxs(\"select\",{name:\"typOpakowania\",value:napojData.typOpakowania,onChange:handleInputChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Butelka 500ml\",children:\"Butelka 500ml\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Puszka 500ml\",children:\"Puszka 500ml\"})]})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Dost\\u0119pny: \",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"czyDostepna\",checked:napojData.czyDostepna,onChange:handleInputChange})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUpdateNapoj,children:\"Zapisz zmiany\"})]}),/*#__PURE__*/_jsx(Link,{to:\"/menuNapoje\",class:\"ButtonPizza\",children:\"Anuluj\"})]});};export default EditNapoj;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","EditNapoj","id","napojData","setNapojData","nazwa","cena","typOpakowania","czyDostepna","navigate","fetchNapoj","response","get","concat","data","error","console","handleInputChange","e","name","value","type","checked","target","inputValue","prevData","handleUpdateNapoj","put","log","alert","children","onChange","onClick","to","class"],"sources":["C:/Users/user/Desktop/Projekt KPCH/Frontend/myapp/src/pages/EditNapoj.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, Link, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst EditNapoj = () => {\r\n  const { id } = useParams();\r\n  const [napojData, setNapojData] = useState({\r\n    nazwa: '',\r\n    cena: '',\r\n    typOpakowania: 'Butelka 500ml',\r\n    czyDostepna: false,\r\n  });\r\n\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchNapoj = async () => {\r\n      try {\r\n        const response = await axios.get(`https://pizzeriabackend-pizzeriabackendmk.azuremicroservices.io/api/napoje/${id}`);\r\n        setNapojData(response.data);\r\n      } catch (error) {\r\n        console.error('Error fetching napoj:', error);\r\n      }\r\n    };\r\n\r\n    fetchNapoj();\r\n  }, [id]);\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    const inputValue = type === 'checkbox' ? checked : value;\r\n    setNapojData((prevData) => ({ ...prevData, [name]: inputValue }));\r\n  };\r\n\r\n  const handleUpdateNapoj = async () => {\r\n    try {\r\n      await axios.put(`https://pizzeriabackend-pizzeriabackendmk.azuremicroservices.io/api/napoje/${id}`, napojData);\r\n      console.log('Napoj updated successfully');\r\n      navigate('/menuNapoje');\r\n    } catch (error) {\r\n      console.error('Error updating napoj:', error);\r\n      alert('Nie można zaktualizwoać Pizzy');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <center>\r\n    <div>\r\n      <h2>Edytuj Napój</h2>\r\n      <label>Nazwa: <input type=\"text\" name=\"nazwa\" value={napojData.nazwa} onChange={handleInputChange} /></label>\r\n      <label>Cena: <input type=\"text\" name=\"cena\" value={napojData.cena} onChange={handleInputChange} /></label>\r\n      <label>Typ Opakowania: \r\n        <select name=\"typOpakowania\" value={napojData.typOpakowania} onChange={handleInputChange}>\r\n          <option value=\"Butelka 500ml\">Butelka 500ml</option>\r\n          <option value=\"Puszka 500ml\">Puszka 500ml</option>\r\n        </select>\r\n      </label>\r\n      <label>Dostępny: <input type=\"checkbox\" name=\"czyDostepna\" checked={napojData.czyDostepna} onChange={handleInputChange} /></label>\r\n      <button onClick={handleUpdateNapoj}>Zapisz zmiany</button>\r\n    </div>\r\n    <Link to=\"/menuNapoje\" class=\"ButtonPizza\">Anuluj</Link>\r\n    </center>\r\n  );\r\n};\r\n\r\nexport default EditNapoj;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}