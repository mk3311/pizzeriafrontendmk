{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,Link,useNavigate}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const EditPizza=()=>{const{id}=useParams();const[pizzaData,setPizzaData]=useState({nazwa:'',cena:'',rozmiar:'Mała',czyWegetarianska:false,czyDostepna:false});const navigate=useNavigate();useEffect(()=>{const fetchPizza=async()=>{try{const response=await axios.get(\"https://pizzeriabackend-pizzeriabackendmk.azuremicroservices.io/api/pizzas/\".concat(id));setPizzaData(response.data);}catch(error){console.error('Error fetching pizza:',error);}};fetchPizza();},[id]);const handleInputChange=e=>{const{name,value,type,checked}=e.target;const inputValue=type==='checkbox'?checked:value;setPizzaData(prevData=>({...prevData,[name]:inputValue}));};const handleUpdatePizza=async()=>{try{await axios.put(\"https://pizzeriabackend-pizzeriabackendmk.azuremicroservices.io/api/pizzas/\".concat(id),pizzaData);console.log('Pizza updated successfully');navigate('/menu');}catch(error){console.error('Error updating pizza:',error);alert('Nie można zaktualizwoać Pizzy');}};return/*#__PURE__*/_jsxs(\"center\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Edytuj Pizz\\u0119\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Nazwa: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"nazwa\",value:pizzaData.nazwa,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Cena: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"cena\",value:pizzaData.cena,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Rozmiar:\",/*#__PURE__*/_jsxs(\"select\",{name:\"rozmiar\",value:pizzaData.rozmiar,onChange:handleInputChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Ma\\u0142a 33cm\",children:\"Ma\\u0142a 33cm\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u015Arednia 40cm\",children:\"\\u015Arednia 40cm\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Du\\u017Ca 50cm\",children:\"Du\\u017Ca 50cm\"})]})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Wegetaria\\u0144ska: \",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"czyWegetarianska\",checked:pizzaData.czyWegetarianska,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Dost\\u0119pna: \",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"czyDostepna\",checked:pizzaData.czyDostepna,onChange:handleInputChange})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUpdatePizza,children:\"Zapisz zmiany\"})]}),/*#__PURE__*/_jsx(Link,{to:\"/menu\",class:\"ButtonPizza\",children:\"Anuluj\"})]});};export default EditPizza;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","EditPizza","id","pizzaData","setPizzaData","nazwa","cena","rozmiar","czyWegetarianska","czyDostepna","navigate","fetchPizza","response","get","concat","data","error","console","handleInputChange","e","name","value","type","checked","target","inputValue","prevData","handleUpdatePizza","put","log","alert","children","onChange","onClick","to","class"],"sources":["C:/Users/user/Desktop/Projekt KPCH/Frontend/myapp/src/pages/EditPizza.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, Link, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst EditPizza = () => {\r\n  const { id } = useParams();\r\n  const [pizzaData, setPizzaData] = useState({\r\n    nazwa: '',\r\n    cena: '',\r\n    rozmiar: 'Mała',\r\n    czyWegetarianska: false,\r\n    czyDostepna: false,\r\n  });\r\n\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchPizza = async () => {\r\n      try {\r\n        const response = await axios.get(`https://pizzeriabackend-pizzeriabackendmk.azuremicroservices.io/api/pizzas/${id}`);\r\n        setPizzaData(response.data);\r\n      } catch (error) {\r\n        console.error('Error fetching pizza:', error);\r\n      }\r\n    };\r\n\r\n    fetchPizza();\r\n  }, [id]);\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    const inputValue = type === 'checkbox' ? checked : value;\r\n    setPizzaData((prevData) => ({ ...prevData, [name]: inputValue }));\r\n  };\r\n\r\n  const handleUpdatePizza = async () => {\r\n    try {\r\n      await axios.put(`https://pizzeriabackend-pizzeriabackendmk.azuremicroservices.io/api/pizzas/${id}`, pizzaData);\r\n      console.log('Pizza updated successfully');\r\n      navigate('/menu');\r\n    } catch (error) {\r\n      console.error('Error updating pizza:', error);\r\n      alert('Nie można zaktualizwoać Pizzy');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <center>\r\n    <div>\r\n      <h2>Edytuj Pizzę</h2>\r\n      <label>Nazwa: <input type=\"text\" name=\"nazwa\" value={pizzaData.nazwa} onChange={handleInputChange} /></label>\r\n      <label>Cena: <input type=\"text\" name=\"cena\" value={pizzaData.cena} onChange={handleInputChange} /></label>\r\n      <label>Rozmiar: \r\n        <select name=\"rozmiar\" value={pizzaData.rozmiar} onChange={handleInputChange}>\r\n          <option value=\"Mała 33cm\">Mała 33cm</option>\r\n          <option value=\"Średnia 40cm\">Średnia 40cm</option>\r\n          <option value=\"Duża 50cm\">Duża 50cm</option>\r\n        </select>\r\n      </label>\r\n      <label>Wegetariańska: <input type=\"checkbox\" name=\"czyWegetarianska\" checked={pizzaData.czyWegetarianska} onChange={handleInputChange} /></label>\r\n      <label>Dostępna: <input type=\"checkbox\" name=\"czyDostepna\" checked={pizzaData.czyDostepna} onChange={handleInputChange} /></label>\r\n      <button onClick={handleUpdatePizza}>Zapisz zmiany</button>\r\n    </div>\r\n    <Link to=\"/menu\" class=\"ButtonPizza\">Anuluj</Link>\r\n    </center>\r\n  );\r\n};\r\n\r\nexport default EditPizza;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}